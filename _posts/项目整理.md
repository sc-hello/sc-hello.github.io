@[TOC](目录)
# 1 基于Spring Boot的个人博客系统
## 1 系统功能框架图
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210716095631204.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NjMTc5,size_16,color_FFFFFF,t_70)


# 2 基于Servlet和JSP的网上书城
## 1 什么是Servlet
Servlet是一个Java类，是在服务器上运行以处理客户端请求并作出响应的程序。

## 2 Tomcat容器等级
Tomcat容器分四个等级，Servlet容器管理Context容器，一个Context对应一个Web工程。
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210717141308370.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NjMTc5,size_16,color_FFFFFF,t_70)
## 3 手工编写一个Servlet
1. 继承HttpServlet；
2. 重写doGet()或doPost()方法；
3. 在web.xml中注册Servlet；
4. 部署运行；

![在这里插入图片描述](https://img-blog.csdnimg.cn/20210717142148330.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NjMTc5,size_16,color_FFFFFF,t_70)
## 4 测试题
假设在helloapp应用中有一个HelloServlet类，它在 web.xml文件中的配置如下:

```java
 <servlet>   
  <servlet-name>HelloServlet</servlet-name>    
  <servlet-class>org.javathinker.HelloServlet</servlet-class>
 </servlet>  
<servlet-mapping>   
  <servlet-name>HelloServlet</servlet-name>  
  <url-pattern>/hello</url-pattern>
</servlet-mapping>  
```

那么在浏览器端访问HelloServlet的URL是什么?

 - 答：http://localhost:8080/helloapp/hello
 - 解析：localhost是服务器主机名，也可以是IP地址127.0.0.1；8080是tomcat服务器的端口号；helloapp是web工程的上下文地址ContextRoot（一般情况下与web工程名一致）；最后是\<url-pattern/>标签中的内容。

## 5 Servlet执行流程
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210717154602760.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NjMTc5,size_16,color_FFFFFF,t_70)

## 6 Servlet生命周期
![在这里插入图片描述](https://img-blog.csdnimg.cn/20210717155659793.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NjMTc5,size_16,color_FFFFFF,t_70)

1. 初始化阶段：调用构造方法创建Servlet实例，然后调用init()方法，在整个生命周期内，init()只被调用一次；
2. 响应客户端请求阶段：调用service()方法。由service()方法根据提交方式选择执行doGet()或者doPost()方法；
3. 终止阶段：服务器关闭时，调用destroy()方法。在调用 destroy() 方法之后，servlet 对象被标记为垃圾回收；

**架构图**

下图显示了一个典型的 Servlet 生命周期方案。

1. 第一个到达服务器的 HTTP 请求被委派到 Servlet 容器；
2. Servlet 容器在调用 service() 方法之前加载 Servlet；
3. 然后 Servlet 容器处理由多个线程产生的多个请求，每个线程执行一个单一的 Servlet 实例的 service() 方法；

![在这里插入图片描述](https://img-blog.csdnimg.cn/20210717163815327.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3NjMTc5,size_16,color_FFFFFF,t_70)


## 7 Tomcat装载Servlet的三种情况
1. Servlet容器启动时自动装载某些Servlet，实现它只需要在web.xml中的`<Servlet></Servlet>`之间添加如下代码：`<loadon-startup>1</loadon-startup>`，数字越小优先级越高；
2. Servlet容器启动后，客户端首次向Servlet发送请求；
3. Servlet类文件被更新后，会自动重新装载Servlet；




